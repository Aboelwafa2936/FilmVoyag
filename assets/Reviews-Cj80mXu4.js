import{u as c,j as e,H as d,a as h}from"./index-BBBN6wGO.js";function p({category:s,id:r}){async function i(){try{return(await h.get(`https://api.themoviedb.org/3/${s}/${r}/reviews?api_key=ae525d27a8fab4d0a9a4155dc3e4d7ec`)).data.results}catch{throw new Error("Failed to fetch reviews.")}}const{data:t,isError:l}=c({queryKey:["reviews",s,r],queryFn:i});return l?e.jsx("p",{className:"text-white",children:"Failed to load reviews. Please try again later."}):e.jsxs(e.Fragment,{children:[e.jsx(d,{heading:"Reviews"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:t!=null&&t.length?t.map(a=>{const o=a.author_details.avatar_path?`https://image.tmdb.org/t/p/w200${a.author_details.avatar_path}`:"https://via.placeholder.com/58",n=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short"}).format(new Date(a.created_at));return e.jsxs("div",{className:"bg-[#111827] text-white rounded-lg p-6 shadow-lg flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:o,alt:a.author,className:"w-14 h-14 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold",children:a.author}),e.jsx("p",{className:"text-sm text-gray-400",children:n})]})]}),e.jsx("p",{className:"text-gray-300 line-clamp-3",children:a.content})]},a.id)}):e.jsx("p",{className:"text-white",children:"No reviews available."})})]})}export{p as default};
